"use strict";!function(e,t,n,i){t.module("mr.uex",["ngAnimate"]),function(){function e(e,n,c,r){function o(e){var t=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s*$/);return{keyName:t[1],inFn:c(t[2]),asFn:c(t[3])}}function u(e){if(e.then)return e;var t=l.text;if(!t||""===t.trim())return e;for(var n=[],i=0;i<e.length;i++)l.display(e[i]).indexOf(t)>-1&&n.push(e[i]);return n}if(n.exp===i)throw new Error("'uexAutocomplete': Attribute 'exp' is required.");var s,l=this,a=o(n.exp),v=a.keyName;l.items=[],l.text=[],l.options=a,l.keyName=v,l.activeItem=null,l.activeIndex=-1;var d=!1;l.display=function(n){if(a.asFn===t.noop)return n;var i={};return i[v]=n,a.asFn(e,i)},l.select=function(e){l.text=l.display(e),l.clear(),d=!0},l.setActive=function(e){if(e===i)return l.activeItem=null,void(l.activeIndex=-1);var t=l.items[e];l.activeItem=t,l.activeIndex=e},l.mouseover=function(e,t){l.setActive(t)},l.clear=function(){l.items=[],l.setActive()},e.$watch(function(){return l.text},function(t,n){if(t===n||null===t||d)return void(d=!1);l.ngModel.$setViewValue(t),l.loading=!0,l.clear();var i=s=r.when(u(l.options.inFn(e,{q:t})));i.then(function(e){i===s&&(l.items=e)})["finally"](function(){l.loading=!1})})}function c(t){return{restrict:"E",controller:e,controllerAs:"$uexAutocompleteCtrl",template:function(e,t){function n(){var t=e.find("uex-item-template").detach(),n=t.length?t.html():e.html();return t.length||e.empty(),n}return'<div class="uex-autocomplete">	<input type="text" ng-model="$uexAutocompleteCtrl.text" ng-keydown="keydown($event)" >	<div class="uex-autocomplete-list" ng-if="$uexAutocompleteCtrl.items.length > 0">		<div class="uex-autocomplete-item"			 ng-repeat="item in $uexAutocompleteCtrl.items"			 ng-click="$uexAutocompleteCtrl.select(item)"			 ng-class="{ active: $index == $uexAutocompleteCtrl.activeIndex }"			 ng-mouseover="$uexAutocompleteCtrl.mouseover(item, $index)"			 uex-alias="item {{::$uexAutocompleteCtrl.keyName}}">'+n()+"		</div>	</div></div>"},require:["uexAutocomplete","ngModel"],scope:!0,link:function(e,i,c,r,o){var u=r[0],s=r[1];u.ngModel=s,s.$render=function(){u.text=s.$viewValue},e.keydown=function(e){var t=e.which,n=!0;switch(t){case 13:u.select(u.activeItem);break;case 27:u.clear();break;case 38:if(0===u.items.length)break;if(-1===u.activeIndex){u.setActive(u.items.length-1);break}if(u.activeIndex-1<0)break;u.setActive(u.activeIndex-1);break;case 40:if(0===u.items.length)break;if(-1===u.activeIndex){u.setActive(0);break}if(u.activeIndex+1>=u.items.length)break;u.setActive(u.activeIndex+1);break;default:n=!1}n&&e.preventDefault()},i.on("keydown",function(t){27===t.which&&(t.preventDefault(),e.$apply(function(){u.clear()}))}),t.on("click",function(t){n.contains(i[0],t.target)||e.$apply(function(){u.clear()})})}}}c.$inject=["$document"],e.$inject=["$scope","$attrs","$parse","$q"],t.module("mr.uex").directive("uexAutocomplete",c)}(),function(){function e(){var e=this,t=[{id:"add,plus",svg:'<path d="M18.984 12.984h-6v6h-1.969v-6h-6v-1.969h6v-6h1.969v6h6v1.969z"/>'},{id:"add-box",svg:'<path d="M17.016 12.984v-1.969h-4.031v-4.031h-1.969v4.031h-4.031v1.969h4.031v4.031h1.969v-4.031h4.031zM18.984 3c1.078 0 2.016 0.938 2.016 2.016v13.969c0 1.078-0.938 2.016-2.016 2.016h-13.969c-1.125 0-2.016-0.938-2.016-2.016v-13.969c0-1.078 0.891-2.016 2.016-2.016h13.969z"/>'},{id:"add-circle",svg:'<path d="M17.016 12.984v-1.969h-4.031v-4.031h-1.969v4.031h-4.031v1.969h4.031v4.031h1.969v-4.031h4.031zM12 2.016c5.531 0 9.984 4.453 9.984 9.984s-4.453 9.984-9.984 9.984-9.984-4.453-9.984-9.984 4.453-9.984 9.984-9.984z"/>'},{id:"control-point",svg:'<path d="M12 20.016c4.406 0 8.016-3.609 8.016-8.016s-3.609-8.016-8.016-8.016-8.016 3.609-8.016 8.016 3.609 8.016 8.016 8.016zM12 2.016c5.531 0 9.984 4.453 9.984 9.984s-4.453 9.984-9.984 9.984-9.984-4.453-9.984-9.984 4.453-9.984 9.984-9.984zM12.984 6.984v4.031h4.031v1.969h-4.031v4.031h-1.969v-4.031h-4.031v-1.969h4.031v-4.031h1.969z"/>'},{id:"adjust",svg:'<path d="M15 12c0 1.641-1.359 3-3 3s-3-1.359-3-3 1.359-3 3-3 3 1.359 3 3zM12 20.016c4.406 0 8.016-3.609 8.016-8.016s-3.609-8.016-8.016-8.016-8.016 3.609-8.016 8.016 3.609 8.016 8.016 8.016zM12 2.016c5.531 0 9.984 4.453 9.984 9.984s-4.453 9.984-9.984 9.984-9.984-4.453-9.984-9.984 4.453-9.984 9.984-9.984z"/>'},{id:"arrow-left",svg:'<path d="M20.016 11.016v1.969h-12.188l5.578 5.625-1.406 1.406-8.016-8.016 8.016-8.016 1.406 1.406-5.578 5.625h12.188z"/>'},{id:"arrow-bottom",svg:'<path d="M20.016 12l-8.016 8.016-8.016-8.016 1.453-1.406 5.578 5.578v-12.188h1.969v12.188l5.625-5.578z"/>'},{id:"arrow-right",svg:'<path d="M12 3.984l8.016 8.016-8.016 8.016-1.406-1.406 5.578-5.625h-12.188v-1.969h12.188l-5.578-5.625z"/>'},{id:"arrow-top",svg:'<path d="M3.984 12l8.016-8.016 8.016 8.016-1.453 1.406-5.578-5.578v12.188h-1.969v-12.188l-5.625 5.578z"/>'},{id:"autorenew",svg:'<path d="M18.75 7.734c0.797 1.219 1.266 2.719 1.266 4.266 0 4.406-3.609 8.016-8.016 8.016v3l-3.984-4.031 3.984-3.984v3c3.328 0 6-2.672 6-6 0-1.031-0.281-1.969-0.703-2.813zM12 6c-3.328 0-6 2.672-6 6 0 1.031 0.234 1.969 0.703 2.813l-1.453 1.453c-0.797-1.219-1.266-2.719-1.266-4.266 0-4.406 3.609-8.016 8.016-8.016v-3l3.984 4.031-3.984 3.984v-3z"/>'},{id:"close",svg:'<path d="M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z"/>'},{id:"done,check",svg:'<path d="M9 16.219l10.594-10.641 1.406 1.406-12 12-5.578-5.578 1.359-1.406z"/>'},{id:"done-all,check-all",svg:'<path d="M0.422 13.406l1.406-1.406 5.578 5.578-1.406 1.406zM22.219 5.578l1.453 1.406-12 12-5.625-5.578 1.453-1.406 4.172 4.172zM18 6.984l-6.328 6.375-1.406-1.406 6.328-6.375z"/>'},{id:"pencil,edit",svg:'<path d="M20.719 7.031l-1.828 1.828-3.75-3.75 1.828-1.828c0.375-0.375 1.031-0.375 1.406 0l2.344 2.344c0.375 0.375 0.375 1.031 0 1.406zM3 17.25l11.063-11.063 3.75 3.75-11.063 11.063h-3.75v-3.75z"/>'},{id:"trash",svg:'<path d="M292.571 420.571v329.143q0 8-5.143 13.143t-13.143 5.143h-36.571q-8 0-13.143-5.143t-5.143-13.143v-329.143q0-8 5.143-13.143t13.143-5.143h36.571q8 0 13.143 5.143t5.143 13.143zM438.857 420.571v329.143q0 8-5.143 13.143t-13.143 5.143h-36.571q-8 0-13.143-5.143t-5.143-13.143v-329.143q0-8 5.143-13.143t13.143-5.143h36.571q8 0 13.143 5.143t5.143 13.143zM585.143 420.571v329.143q0 8-5.143 13.143t-13.143 5.143h-36.571q-8 0-13.143-5.143t-5.143-13.143v-329.143q0-8 5.143-13.143t13.143-5.143h36.571q8 0 13.143 5.143t5.143 13.143zM658.286 834.286v-541.714h-512v541.714q0 12.571 4 23.143t8.286 15.429 6 4.857h475.429q1.714 0 6-4.857t8.286-15.429 4-23.143zM274.286 219.429h256l-27.429-66.857q-4-5.143-9.714-6.286h-181.143q-5.714 1.143-9.714 6.286zM804.571 237.714v36.571q0 8-5.143 13.143t-13.143 5.143h-54.857v541.714q0 47.429-26.857 82t-64.571 34.571h-475.429q-37.714 0-64.571-33.429t-26.857-80.857v-544h-54.857q-8 0-13.143-5.143t-5.143-13.143v-36.571q0-8 5.143-13.143t13.143-5.143h176.571l40-95.429q8.571-21.143 30.857-36t45.143-14.857h182.857q22.857 0 45.143 14.857t30.857 36l40 95.429h176.571q8 0 13.143 5.143t5.143 13.143z"/>',viewBox:"0 0 805 1024"},{id:"trash2",svg:'<path d="M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12c0 1.078-0.938 2.016-2.016 2.016h-7.969c-1.078 0-2.016-0.938-2.016-2.016z"/>'},{id:"menu",svg:'<path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"/>'},{id:"calendar",svg:'<path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>'},{id:"chevron-bottom",svg:'<path d="M7.406 7.828l4.594 4.594 4.594-4.594 1.406 1.406-6 6-6-6z" />'},{id:"chevron-right",svg:'<path d="M8.578 16.359l4.594-4.594-4.594-4.594 1.406-1.406 6 6-6 6z" />'},{id:"chevron-left",svg:'<path d="M15.422 16.078l-1.406 1.406-6-6 6-6 1.406 1.406-4.594 4.594z"/>'},{id:"chevron-top",svg:'<path d="M7.406 15.422l-1.406-1.406 6-6 6 6-1.406 1.406-4.594-4.594z"/>'}];this.add=function(n){return t.unshift(n),e},this.$get=function(){return t}}function n(e){function t(e,t){for(var n=e.split(","),i=0;i<n.length;i++)if(n[i].trim()===t)return!0;return!1}function n(e){for(var n=0;n<c.length;n++){var i=c[n];if(t(i.id,e))return i}throw new Error('uexIcon: "'+e+'" has not been found.')}function i(e,t){return t=t||"0 0 24 24",'<svg version="1.1" x="0px" y="0px" viewBox="'+t+'">'+e+"</svg>"}var c=e;return{restrict:"EA",link:function(e,t,c){var r,o;r=c.uexIcon?c.uexIcon:c.icon,o=n(r),o.svg||(o=n(o.ref));var u=i(o.svg,o.viewBox||o.viewbox);t.empty(),t.append(u)}}}n.$inject=["uexIcons"],t.module("mr.uex").provider("uexIcons",e).directive("uexIcon",n)}(),function(){function e(){return{restrict:"A",link:function(e,t,n){var i=n.uexAlias,c=i.split(" "),r=c[0],o=c[1];e.$watch(function(){return e.$eval(r)},function(t){e[o]=t})}}}t.module("mr.uex").directive("uexAlias",e)}(),function(){function i(){return+new Date}function c(e,t){var n=e.indexOf(t);e.splice(n,1)}function r(){var t=[],r=n(e),o=null,u=null,s=null,l=function(){return{client:{height:r.height(),width:r.width(),top:r.scrollTop()}}},a=function(){for(var e=l(),n=0;n<t.length;n++){var i=t[n];i(e)}},v=function d(){return"undefined"!=typeof u&&u>16?(u=Math.min(u-16,250),void(s=setTimeout(d,250))):void("undefined"!=typeof o&&i()-o<10||("undefined"!=typeof s&&(clearTimeout(s),s=null),o=i(),a(),u=i()-o))};return n(function(){a(),["resize","scroll","touchmove"].forEach(function(t){e.addEventListener(t,v)})}),{subscribe:function(e){return t.push(e),a(),function(){c(t,e)}}}}t.module("mr.uex").factory("browserSizeChangedHandler",r)}(),function(){function e(e){return{restrict:"A",link:function(t,n,i){t.$on("uex.focus",function(){e(function(){n.focus()})})}}}e.$inject=["$timeout"],t.module("mr.uex").directive("uexFocus",e)}(),function(){function e(){this.opts={successInterval:1e3,errorInterval:1e3},this.$get=function(){return this.opts}}function n(e,t){function n(e,n,i){function c(e){return e&&0!==e.length?{$event:e[0]}:null}var r,o=this;this.$$fn=null,this.$running=!1,this.$$promises={};var u=function(e){o.$running=e},s=function(e,t){o[e]=!0;var i=o.$$promises[e]=n(function(){o.$$promises[e]===i&&(o[e]=!1)},t)};this.run=function(){var n=o.$$fn(e,c(arguments));n&&n["finally"]&&(r=n,u(!0),r.then(function(){s("$success",o.$$options.successInterval||t.successInterval)},function(){s("$error",o.$$options.errorInterval||t.errorInterval)}),r["finally"](function(){n===r&&u(!1)}))}}function c(t,n,c,r){r.$$fn=e(c.uexP),r.$$options=t.$eval(c.uexPOpts)||{},n.is("form")&&c.uexPSrc===i&&n.on("submit",function(e){t.$apply(r.run.call(r,e))})}return n.$inject=["$scope","$timeout","$q"],{restrict:"A",scope:!0,controller:n,controllerAs:"$p",link:c}}function c(){function e(e,n){return n&&t.isString(n)?n:e.is("form")?"submit":"click"}return{restrict:"A",require:"^uexP",scope:!1,link:function(t,n,i,c){var r=e(n,i.uexPSrc);n.on(r,function(e){t.$apply(c.run.call(c,e))})}}}function r(e){return{restrict:"A",require:"^uexP",scope:{},transclude:!0,template:'<div class="uex-p-'+e+'" ng-show="shown" ng-transclude></div>',link:function(t,n,i,c){n.addClass("uex-p-"+e),t.$watch(function(){return c["$"+e]},function(e,n){t.shown=!!e})}}}function o(){return r("running")}function u(){return r("success")}function s(){return r("error")}function l(){return{restrict:"EA",scope:{},template:'<span ng-show="success || error" class="uex-p-status" ng-class="classes">{{text}}</span>',require:"^uexP",link:function(e,t,n,i){var c=n.success||"Success",r=n.error||"Error";e.classes="",e.$watch(function(){return i.$success},function(t,n){e.success=t,t&&(e.classes="uex-p-success",e.text=c)}),e.$watch(function(){return i.$error},function(t,n){e.error=t,t&&(e.classes="uex-p-error",e.text=r)})}}}function a(){return{restrict:"A",require:"^uexP",link:function(e,t,n,i){var c="onetime"===n.uexPBtn;e.$watch(function(){return i.$running},function(e,n){e?t.attr("disabled","disabled"):(i.$error||!c)&&t.removeAttr("disabled")})}}}n.$inject=["$parse","uexP"],t.module("mr.uex").provider("uexP",e).directive("uexP",n).directive("uexPSrc",c).directive("uexPRunning",o).directive("uexPSuccess",u).directive("uexPError",s).directive("uexPStatus",l).directive("uexPBtn",a)}(),function(){function e(){return{restrict:"A",require:"^uexSelect",link:function(e,t,n,i,c){i.$populateScope(e),c(e,function(n){t.empty(),t.append(n),e.$on("$destroy",function(){i.$removeScope(e)})})}}}function c(e,c){function r(t){var n=t.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),i={keyName:n[1],inFn:e(n[2]),asFn:e(n[3]),trackFn:e(n[4])};return i.asyncMode=!i.inFn.assign&&!i.inFn.literal,i}return{restrict:"E",transclude:!0,template:'<div class="uex-select" ng-class="{open: isOpen}">	<button type="button" class="button has-caret" ng-click="toggle()">		{{title}}	</button>	<uex-icon icon="close" class="btn-plain btn-dim tooltipped tooltipped-e" aria-label="Clear" ng-if="selected" ng-click="clear()"></uex-icon>	<div class="uex-select-content">		<header>			<div>{{::header}}</div>			<uex-icon icon="close" class="btn-plain btn-dim" ng-click="close()"></uex-icon>		</header>		<div>			<div class="uex-select-filters" ng-if="::asyncMode">				<div class="uex-select-filter-container">					<input uex-focus type="text" placeholder="Search" ng-model="$uexSelectCtrl.q" ng-model-options="{debounce: 500}" />				</div>			</div>			<div class="uex-select-loading" ng-show="loading">				Loading...			</div>			<div class="uex-select-no-items" ng-show="!items && !loading">Start typing to filter</div>			<ul class="options no-margin">				<li ng-repeat="item in items" ng-click="select(item)" uex-select-transclude></li>			</ul>		</div>	</div></div>',controller:["$scope",function(e){var t=this,n=[];this.$populateScope=function(i){var c=i.item;n.push(i),c&&t.track(c)===t.track(e.selected)?i.$selected=!0:c&&(i.$selected=!1),c&&(i[this.options.keyName]=c)},this.$removeScope=function(e){var t=n.indexOf(e);t>=0&&n.splice(t,1)},this.$findScope=function(e,t,i){for(var c=0;c<n.length;c++){var r=n[c];e===r.item?t&&t(r):i&&i(r)}}}],controllerAs:"$uexSelectCtrl",require:["uexSelect","ngModel"],scope:!0,link:function(e,o,u,s,l){if(u.exp===i)throw new Error("'uexSelect': Attribute 'exp' is required.");var a=s[0],v=s[1],d=e.title=u.title;u.title!==i&&o.attr("title",null),e.header=u.header,e.classes=u.classes,e.isOpen=!1,e.selected=null;var f,h=a.options=r(u.exp),p=h.keyName,x=e.asyncMode=h.asyncMode,m=function(n){if(h.asFn===t.noop)return n;var i={};return i[p]=n,h.asFn(e,i)},$=a.track=function(n){if(h.trackFn===t.noop)return n;var i={};return i[p]=n,h.trackFn(e,i)},g=function(t){e.title=t},w=function(){e.title=d};e.header||(e.header=t.copy(e.title)),e.open=function(){e.isOpen=!0},e.close=function(){e.isOpen=!1,x&&(e.items=null,f=null,a.q=null)},e.toggle=function(){e.isOpen=!e.isOpen},e.$watch("isOpen",function(t){t&&e.$broadcast("uex.focus")}),e.clear=function(){e.select(null)},v.$render=function(){var t=v.$viewValue;t||e.select(null),e.select(t)};var k=function(t){var n=e.selected;if(n){for(var c,r=$(n),o=0;o<t.length;o++){var u=$(t[o]);if(u===r){c=o;break}}c!==i&&t.splice(c,1)}};x?e.$watch("$uexSelectCtrl.q",function(t,n){if(t!==n&&null!==t){e.loading=!0,e.items=null;var i=f=h.inFn(e,{q:t});i.then(function(t){i===f&&(k(t),e.items=t)})["finally"](function(){e.loading=!1})}}):e.$watchCollection(function(){return h.inFn(e)},function(t,n){e.items=t}),e.select=function(t,n){if(t||e.selected){e.selected=t;var i=t;i?(a.$findScope(i,function(e){e.$selected=!0},function(e){e.$selected=!1}),v.$setViewValue(i),g(m(i))):(a.$findScope(null,null,function(e){e.$selected=!1}),v.$setViewValue(null),w()),a.q=null,x&&(e.items=null),e.close()}},o.on("keydown",function(t){27===t.which&&(t.preventDefault(),e.$apply(function(){e.close()}))}),c.on("click",function(t){n.contains(o[0],t.target)||e.$apply(function(){e.close()})})}}}function r(){return{restrict:"E",transclude:!0,template:'				<div class="uex-select-simple-content" ng-transclude></div>				<uex-icon icon="check" ng-if="$selected" />'}}c.$inject=["$parse","$document"],t.module("mr.uex").directive("uexSelectTransclude",e).directive("uexSelect",c).directive("uexSelectSimple",r)}(),function(){function e(){function e(e){var t=e.indexOf(",");return e.slice(0,t).trim()}function t(e){var t=e.indexOf(",");return e.slice(t+1).trim()}return{restrict:"A",scope:!1,link:function(n,i,c){var r=e(c.uexTooltip);i.addClass("tooltipped tooltipped-"+r),c.$observe("uexTooltip",function(e){var n=t(e);i.attr("aria-label",n)})}}}t.module("mr.uex").directive("uexTooltip",e)}()}(window,window.angular,window.jQuery);